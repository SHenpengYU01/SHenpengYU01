# 基于论证的逻辑——经典抽象论辩理论

## 抽象论辩框架

通过论证之间攻击关系对论证状态的影响，来研究论证可接受性是经典抽象论辩理论的主要内容。

!!! info "抽象论辩框架"
    抽象论辩框架（简称论辩框架）是一个二元组 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，其中 𝐴𝑅 是一组论证的集合，𝑎𝑡𝑡𝑎𝑐𝑘 𝑠 是 𝐴𝑅 上的二元关系，𝑎𝑡𝑡𝑎𝑐𝑘 𝑠 ⊆ 𝐴𝑅 × 𝐴𝑅。用 𝛼 → 𝛽 表示论证 𝛼 攻击论证 𝛽，用 𝑆 → 𝛽 表示论证集合 𝑆 攻击论证 𝛽，意指存在 𝛼 ∈ 𝑆 使得 𝛼 → 𝛽。相似地，可定义 𝛽 → 𝑆。

论辩框架可以被看作是有向图，即把论证看作有向图的节点而攻击关系看作有向边。这时，也把论辩框架称为论证图。

## 论证的可接受性

- 如果一个论证不自我攻击，同时没有受到其他论证的攻击，那么它是可接受的
- 如果一个被接受的论证攻击另一个论证，那么后者应该被拒绝
- 如果一个论证 $\alpha$ 收到攻击，但其所有攻击者都被拒绝，那么 $\alpha$ 也是可接受的。此时称 $\alpha$ 被复原。

目前，用于描述论辩语义的方法有两种：基于外延的方法和基于标记的方法。

## 基于外延的语义

!!! info "基于外延的语义"
    给定一个抽象论辩框架 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，论辩语义 𝜎 是一个函数，它把 𝐴𝐹 映射到一组外延的集合，记作 $\Epsilon_\sigma(AF)$。其中，每个外延是一组“集体可接受”的论证集合。

### 可相容外延

!!! info "无冲突"
    给定𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，设 𝐸 ⊆ 𝐴𝑅 是一组论证集合。𝐸 是无冲突的，当且仅当 $\notexsit \alpha, \beta\in E, \alpha \rightarrow \beta$。

!!! info "可防御"
    给定𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，设 𝐸 ⊆ 𝐴𝑅 是一组论证集合，\alpha\in AR 是一个论证。E是可防御 $\alpha$ ，当且仅当 $\forall \beta \in AR$，如果 $\beta \rightarrow \alpha$，那么 $E\rightarrow \beta$。

!!! info "可相容外延"
    给定 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，设 𝐸 ⊆ 𝐴𝑅 是一组论证集合。𝐸 是一个可相容外延，当且仅当 𝐸 是无冲突的，且 𝐸 可以防御每个属于 𝐸 的论证。

!!! note "定理"
    设E是一个可相容外延，且E可防御论证 $\alpha$ 和 $\alpha'$。那么：
    - $E'=E\cup \{\alpha\}$ 是可相容的。
    - $E'$ 可防御 $\alpha'$

### 完全外延

并非每个可相容外延都包含所有可被该外延防御的论证。为使它包含，采用如下方法：

!!! info "特征函数"
    抽象论辩框架 架 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 的特征函数，记作 $F_{AF}$，定义如下：$F_{AF}: 2^{AR}\rightarrow 2^{AR}$
    $F_{AF}(S) = \{\alpha| S\text{可防御}\alpha\}$

具体过程为：设 $S=\emptyset$，
应用F作用于S得到可相容外延$S_1$，再求$F(S_1)$得$S_2$，以此类推直到$F(S_{k})=S_K$
此时，称$S_k$是$F_{AF}$的不动点。这时，集合 𝑆 中包含了所有 𝑆 可防御的论证。我们把这样的集合称为完全外延。

!!! info "完全外延"
    给定 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，一组论证集合 𝐸 ⊆ 𝐴𝑅 是一个完全外延，当且仅当：𝐸 是一个可相容外延，且对于 𝐴𝑅 中的每个论证 𝛼，如果 𝐸 可防御 𝛼，那么 𝛼 ∈ 𝐸, 即 $F_{AF} (𝐸) = 𝐸$。这时，𝐸 是 $F_{AF}$ 的一个不动点。


### 基外延和优先外延

!!! info "基外延和优先外延"
    给定 $AF=<AR,attacks>，E\subset AR$ 是一组论证集合。
    - E是基外延，当且仅当E是最小的（关于集合包含关系）完全外延。
    - E是一个优先外延，当且仅当E是一个极大的（关于集合包含关系）完全外延。

!!! note "定理"
    给定 $AF=<AR,attacks>$，E是AF的基外延，当且仅当E是F_{AF}的最小不动点。
    每个优先外延都是完全外延，反之不成立。

### 稳定外延与半稳定外延

考虑另一种语义。

!!! info "稳定外延"
    给定 $AF=<AR,attacks>$，一组论证集合E是一个稳定外延，当且仅当：E是无冲突的，且对于任意 $\alpha\in AR\\ E，E$ 攻击 $\alpha$。

!!! note "定理"
    每个稳定外延都是优先外延，反之不成立。

但是并非每个论辩框架都有稳定外延。

!!! info "半稳定外延"
    给定$AF=<AR,attacks>$，一组论证集合E是一个半稳定外延，当且仅当：E是完全外延，且$E\cup E^+$ 是极大的（关于集合包含关系），其中 $E^+=\{\alpha\in AR|E攻击\alpha\}$

!!! note "定理"
    每个稳定外延都是半稳定外延，反之不成立；每个半稳定外延都是优先外延。

## 基于标记的语义

下面介绍基于标记的论辩语义，其基本思想是依据特定的规则给每个论证指派一个“合理的”标签。标签是事先规定好的，只有三种：IN，OUT 和 UNDEC。其中，IN 表示论证的状态为“被接受的”，OUT 表示论证的状态为“被拒绝的”，UNDEC 表示论证的状态是“未确定的”。

!!! info "标记"
    给定一个论辩框架AF=<AR,attacks>,AF的标记定义为一个全函数：L:AR\rightarrow \{IN,OUT,UNDEC\}。

用in(L)表示集合$\{\alpha|L(\alpha)=UNDEC\}$，out(L)表示集合$\{\alpha|L(\alpha)=OUT\}$，undec(L)表示集合$\{\alpha|L(\alpha)=UNDEC\}$

!!! info "合法标记"
    设L使论辩框架AF=<AR,attacks>的一个标记，$\alpha\in AR$，有如下定义：
    - $L(\alpha)$=IN是合法的，如果对于任意$(\beta,\alpha)\in attacks$，$L(\beta)=OUT$.
    - $L(\alpha)=OUT$是合法的，如果存在 $(\beta,\alpha)\in attacks$ 使得 $L(\beta)=IN$
    - $L(\alpha) = UNDEC$ 是合法的，如果：对于任意 $(\beta,\alpha)\in attacks$，$L(\beta)\neq IN$，而且存在 $(\beta,\alpha)\in attacks$ 使得 𝐿(𝛽) ≠ OUT.

可相容标记与可相容外延对应。

!!! info "可相容标记"
    设 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 是一个抽象论辩框架，𝐿 是 𝐴𝐹 的一个可相容标记，当且仅当：对于任意 𝛼 ∈ 𝐴𝑅，如果 𝐿(𝑎) = 𝐼𝑁，那么 𝐿(𝛼) = IN 是合法的；如果 𝐿(𝛼) = OUT，那么𝐿(𝛼) = OUT 是合法的。


!!! note "定理：可相容标记->可相容标记"
    设 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 是一个抽象论辩框架。如果 𝐿 是 𝐴𝐹 的一个可相容标记，那么𝑖𝑛(𝐿) 是 𝐴𝐹 的一个可相容外延。


!!! note "定理：可相容外延->可相容标记"
    设E是AF=<AR,attacks>的一个可相容外延。那么 $L=(E,E^+,AR\(E\cup E^+))$ 是AF的一个可相容标记。其中，$E^+=\{\alpha\in AR|E\text{攻击}\alpha\}$

!!! info "完全标记"
    设 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 是一个论辩框架，𝐿 是 𝐴𝐹 的一个完全标记，当且仅当：𝐿 是 𝐴𝐹的一个可相容标记，且对于任意 𝛼 ∈ 𝐴𝑅，如果 𝐿(𝛼) = UNDEC，那么 𝐿(𝛼) = UNDEC是合法的。

!!! info "优先、基、稳定与半稳定标记"
    设 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 是一个抽象论辩框架，那么：
    - 𝐿 是 𝐴𝐹 的一个优先标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且 𝑖𝑛(𝐿) 是极大的（关于集合包含关系）；
    - 𝐿 是 𝐴𝐹 的一个基标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且 𝑖𝑛(𝐿) 是最小的（关于集合包含关系）；
    - 𝐿 是 𝐴𝐹 的一个稳定标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且 𝑢𝑛𝑑𝑒𝑐(𝐿) = ∅;
    - 𝐿 是 𝐴𝐹 的一个半稳定标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且𝑖𝑛(𝐿) 和 𝑜𝑢𝑡(𝐿)是极大的（关于集合包含关系）。

!!! note "定理"
    设 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 是一个抽象论辩框架，𝜎 ∈ {𝑐𝑜, 𝑝𝑟, 𝑔𝑟, 𝑠𝑡, 𝑠𝑠𝑡} 是完全语义、优先语义、基语义、稳定语义和半稳定语义中的一种论辩语义。- 对于 𝜎 语义下 𝐴𝐹 的任意标记 𝐿，存在相同语义下 𝐴𝐹 的一个外延 𝐸，使得 $L=(E,E^+,AR\(E\cup E^+))$；
    - 对于 𝜎 语义下 𝐴𝐹 的任意外延 𝐸，存在相同语义下 𝐴𝐹 的一个标记 𝐿 使得 𝐸 = 𝑖𝑛(𝐿)。


上述定理表明，基于外延的语义和基于标记的语义具有对应关系。不过，这两种的侧重点是不同的。基于外延的语义侧重于语义描述，建立在论证集合的可相容性或特征函数的不动点等概念的基础上。基于标记的方法侧重于过程实现，更适合用于建立相应的算法。

## 论证的状态

给定一个论辩框架 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，在论辩语义 𝜎 下，分别用 $\Epsilon_{\sigma}(AF)$，和 $\mathcal{L}_\sigma(𝐴𝐹)$ 表示 𝐴𝐹 的外延集合和标记集合。其中，𝜎 ∈ {𝑎𝑑, 𝑐𝑜, 𝑔𝑟, 𝑝𝑟, 𝑠𝑡, 𝑠𝑠𝑡}，分别表示可相容语义、完全语义、基语义、优先语义、稳定语义和半稳定语义。

!!! info "关于外延或标记的论证状态"
    给定 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，对于任意 𝐸 ∈ E𝜎(𝐴𝐹)，或者 𝐿 ∈ L𝜎(𝐴𝐹)，可以确定 𝐴𝐹 中各个论证的状态：
    从标记的角度，对于任意 $\alpha \in AR$,
    - $\alpha$ 是关于E被接受的，当且仅当 $L(\alpha)=IN$
    - $\alpha$ 是关于E被拒绝的，当且仅当 $L(\alpha)=OUT$
    - $\alpha$ 是关于E被未确定的，当且仅当 $L(\alpha)=UNDEC$
    从外延的角度，对任意 \alpha\in AR,
    - $\alpha$ 关于E是被接受的，当且仅当 $\alpha\in E$
    - $\alpha$ 关于E是被拒绝的，当且仅当E攻击 $\alpha$
    - $\alpha$ 关于E是被未确定的，当且仅当 $\alpha\notin E$ 且 E不攻击$\alpha$

!!! info "论证的辩护状态"
    给定一个论辩框架 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 和一种论辩语义 𝜎 ∈ {𝑎𝑑, 𝑐𝑜, 𝑔𝑟, 𝑝𝑟, 𝑠𝑡, 𝑠𝑠𝑡}，对于任意论证 𝛼 ∈ 𝐴𝑅:
    - $\alpha$ 是怀疑可辩护的，当且仅当对于任意 $E\in \Epsilon_{\sigma}(AF)，\alpha\in E$
    - $\alpha$ 是轻信可辩护的，当且仅当存在 $E_1，E_2\in \Epsilon_{\sigma}(AF)$，使得 $\alpha\in E_1$，但 $\alpha\notin E_2$
    - $\alpha$ 是不可辩护的，当且仅当不存在 $E\in \Epsilon_{\sigma}(AF)$ ,使得 $\alpha \in E$


## 抽象论辩语义的模块化

在一些情况下，全局评估论证的状态是低效的。对于某些抽象论辩框架来说，局部计算论证的状态可极大降低计算复杂性。

### 子框架的语法定义

!!! info "子框架"
    给定一个抽象论辩框架 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 和一组论证 𝐵 ⊆ 𝐴𝑅，设 $𝐵^- = \{𝑎 ∈ 𝐴𝑅 \ 𝐵 |∃𝑏 ∈ 𝐵 : (𝑎, 𝑏) ∈ 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠\}$。把 𝐵− 称为 𝐵 的约束论证。当 $𝐵^- = ∅$ 时，由 𝐵 导出的子框架是不受约束的。这时，该子框架可以表示为 $(𝐵, 𝑅_B)$，其中 $R_B = 𝑎𝑡𝑡𝑎𝑐𝑘𝑠 \cup (𝐵×𝐵)$。当  $B^-\neq \emptyset$ 时，由 𝐵 导出的子框架是受约束的。这时，该子框架可以表示为 $( (𝐵, 𝑅_𝐵), (𝐵^-, 𝐼_𝐵))$，其中 (𝐵−, 𝐼𝐵) 是约束子框架，𝐼𝐵 = 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠 ∩ (𝐵− × 𝐵)。


### 抽象论辩框架分解与合并

给定一个有向图，由该图的所有强连通分量构成的缩简图是一个有向无环图。一个抽象论辩框架可以被分解为一个由强连通分量构成的缩简图。该缩简图的每个顶点都是一个强连通分量。

!!! note "定理"
    给定一个抽象论辩框架 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩，把 𝐴𝐹 的强连通分量集合记作 $SCCF_{AF}$。对于任意 $B\in SCCF_{AF}$，令 $𝑝𝑎(𝐵) = {𝐶 ∈ SCCF_{AF} | 𝑐 ∈ 𝐶, 𝑏 ∈ 𝐵 : (𝑐, 𝑏) ∈ 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠}$。则如下命题成立：
    1. 当 $B^-=\emptyset$，由 B 可以导出一个不受约束子框架 $(B,R_B)$
    2. 当 $B^-\neq \emptyset$，由B可以导出一个受约束子框架 $((B,R_B), (B^-,I_B))$,其中 $B^-\subset \cup_{C\in pa(B)}C$

!!! note "定理"
    设 $((B,R_B),(B^-, I_B)^L)$ 和 $(C,R_C)$ 是 AF=<AR,attacks> 的两个子框架，其中 $B^-\subset C$。下列关系成立：
    1. $B\cup B^-\cup C=B\cup C$
    2. $R_B\cup I_B\cup R_C = R_{B\cup C}$
    3. $(B\cup C)^- = \emptyset$
    因此，通过合并框架 $((B,R_B),(B^-, I_B)^L) 和(C,R_C)$ 可得到不收约束框架 $(B\cup C,R_{B\cup C})$

### 局部语义

设 $((B,R_B),(B^-, I_B))$ 和 $(C,R_C)$ 是 AF=<AR,attacks> 的两个子框架，其中 $B^-\subset C$。设L是 $(C,R_C)$ 的一个标记。我们把 $((B,R_B), (B^-,I_B)^L)$ 称为一个局部标记子框架，意指 $B^-$ 中论证的标签要遵循L

!!! info "局部标记子框架的标记"
    把一个局部标记子框架 $((B,R_B),(B^-, I_B)^L)$ 的标记定义为：
    $L':B\cup B^- \mapsto\{IN,OUT,UNDEC\}$，使得对于所有 a\in B^-,L'(a)=L(a)

!!! info "局部标记子框架的合法标记"
    设 𝐿′ 是 $((B,R_B),(B^-, I_B)^L)$ 的一个标记，对于任意 𝑎 ∈ 𝐵,
    - 𝐿′(𝑎) = 𝐼𝑁 是合法的，当且仅当：对于任意 𝑏 ∈ 𝐵，如果 (𝑏, 𝑎) ∈ 𝑅𝐵，那么 𝑏 在 𝐿′被标记为 𝑂𝑈𝑇；对于任意 𝑏 ∈ 𝐵−，如果 (𝑏, 𝑎) ∈ $𝐼_𝐵$，那么 𝑏 在 𝐿 中被标记为 𝑂𝑈𝑇。
    - 𝐿′(𝑎) = 𝑂𝑈𝑇 是合法的，当且仅当：存在 𝑏 ∈ 𝐵，使得 (𝑏, 𝑎) ∈ 𝑅𝐵，且 𝑏 在 𝐿′ 被标记为 𝐼𝑁；或者存在 $𝑏 ∈ 𝐵^−$，使得 (𝑏, 𝑎) ∈ 𝐼𝐵，且 𝑏 在 𝐿 中被标记为 𝐼𝑁。
    - 𝐿′(𝑎) = 𝑈𝑁𝐷𝐸𝐶 是合法的，当且仅当：不存在 $𝑏 ∈ 𝐵 ∪ 𝐵^-$，使得 (𝑏, 𝑎) ∈ $R_B\cup I_B$ 且 𝑏 在 𝐿′ 或 𝐿 中被标记为 𝐼𝑁；存在 $𝑏 ∈ 𝐵 ∪ 𝐵^−$，使得 $(𝑏, 𝑎) ∈ 𝑅_𝐵 ∪ 𝐼_𝐵$ 且 𝑏 在 𝐿′或 𝐿 中不被标记为 𝑂𝑈𝑇。

<img src="\img\study\ai\ailogic\subframe.png" alt="子框架的标记" title="子框架的标记">

### 子框架的语义合成

!!! note "定理"
    给定一个抽象论辩框架 𝐴𝐹 =< 𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠 >，$B，C\subset AR, B^-\neq \emptyset, C^-=\emptyset, B^-\subset C$。在论辩语义 $\sigma\in \{ad,co,gr,pr\}$
    1. $\mathcal{L}_\sigma((C,R_C))=\{L\cap C| L\in \mathcal{L}_\sigma(AF)\}$
    2. $\mathcal{L}_\sigma(((B,B_R),(B^-,I_B)^{L'})) = \{L\cap (B\cup B^-)|L\in \mathcal{L}_{\sigma}(AF)\}$，其中$L'\in \mathcal{L}_\sigma((C,R_C))$




